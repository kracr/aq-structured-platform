# The query returns all parameters obtained from CPCB sensors
  PREFIX rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#>
  PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
  PREFIX aq: <http://www.semanticweb.org/saadf/ontologies/2021/2/AirQualityOntology#>
  PREFIX saqi: <https://kracr.iiitd.edu.in/ontology/saqi#>
  PREFIX xsd: <http://www.w3.org/2001/XMLSchema#>
  
  SELECT ?pm10 ?pm25 ?NO2 ?NO ?SO2 ?humid ?windSpeed ?placeName ?time WHERE {
    ?pm a saqi:ParticulateMatter;	
    saqi:particulateMatter10Concentration ?pm10 ;
    saqi:particulateMatter2_5Concentration ?pm25 .
  
    ?pm saqi:hasObservation ?obspm .
    ?obspm saqi:atTime ?time ;
    saqi:atPlace ?place ;
    saqi:dataSource ?source .
    ?place saqi:hasName ?placeName .
    
    # Join with oxides of Nitrogen
    ?no a saqi:OxideOfNitrogen ;
    saqi:nitrogenDiOxideConcentration ?NO2 ;
    saqi:nitrogenMonoOxideConcentration ?NO .
    ?no saqi:hasObservation ?obsno .
    ?obsno saqi:atTime ?time ;
    saqi:atPlace ?place ;
    saqi:dataSource ?source .
    
      # Join with Oxides of Sulphur
    ?so a saqi:OxideOfSulphur ;
    saqi:sulphurDiOxideConcentration ?SO2 .
    ?so saqi:hasObservation ?obsso .
    ?obsso saqi:atTime ?time ;
    saqi:atPlace ?place ;
    saqi:dataSource ?source .
    
      # Join with Wind Characterstic
    ?wc a saqi:WindCharacterstic ;
    saqi:windDirection ?windDir ;
    saqi:windSpeed ?windSpeed .
    ?wc saqi:hasObservation ?obswc .
    ?obswc saqi:atTime ?time ;
    saqi:atPlace ?place ;
    saqi:dataSource ?source .
    
    # Join with metrological parameters observation
    ?mc a saqi:MeteorologicalCharacterstic ;
    saqi:relativeHumidity ?humid .
    ?mc saqi:hasObservation ?obsmc .
    ?obsmc saqi:atTime ?time ;
    saqi:atPlace ?place ;
    saqi:dataSource ?source .
    
    # Add location name or time interval filter
    FILTER (
      ?source="Central Pollution Control Board"^^rdfs:Literal &&
      ?time > "2021-11-01T00:00:00+05:30"^^xsd:dateTime &&
      ?time < "2021-11-10T00:00:00+05:30"^^xsd:dateTime
    )
  } 
  LIMIT 10000